# -*- text -*-
##
## osp.conf -- Configuration for OSP running parameters
##
## $Id$

#######################################################################
#
# OSP configuration
#
osp {
    # OSP module running parameters
    running {
#        loglevel = 1
    }

    # OSP provider parameters
    provider {
#        accelerate = no
#        security = no
#        spuri1 = http://osptestserver.transnexus.com:1080/osp
#        spuri2 = https://[1.2.3.4]:1443/osp
#        spweight1 = 1000
#        spweight2 = 1000
#        privatekey = /usr/local/etc/raddb/pkey.pem
#        localcert = /usr/local/etc/raddb/localcert.pem
#        cacert0 = /usr/local/etc/raddb/cacert_0.pem
#        cacert1 = /usr/etc/raddb/cacert_1.pem
#        ssllifetime = 300
#        persistence = 60000
#        maxconnections = 20
#        retrydelay = 0
#        retrylimit = 2
#        timeout = 10000
#        deviceip = localhost
#        deviceport = 5060

spuri1 = http://127.0.0.1:1080/osp
deviceip = 192.168.0.1
    }

    # RADIUS OSP mapping parameters
    mapping {
#        transactionid = NULL
#        callid = %{Acct-Session-Id}
#        iscallinguri = yes
#        callingnumber = %{Calling-Station-Id} # From header
#        iscalleduri = yes
#        callednumber = %{Called-Station-Id}   # To header
#        assertedid = NULL
#        sourcedevice = NULL
#        source = %{NAS-IP-Address}
#        destination = NULL
#        destinationdevice = NULL
#        destinationcount = NULL
#        sourcenetworkid = NULL
#        destinationnetworkid = NULL
#        timeformat = 0
#        starttime = %{Acct-Session-Start-Time}
#        altertime = NULL
#        connecttime = NULL
#        endtime = NULL
#        duration = %{Acct-Session-Time}
#        postdialdelayunit = 0
#        postdialdelay = NULL
#        releasesource = NULL
#        releasecause = %{Acct-Terminate-Cause}
#        destinationprotocol = NULL
#        inboundsessionid = NULL
#        outboundsessionid = NULL
#        forwardcodec = NULL
#        reversecodec = NULL
#        conferenceid = NULL
#        sendlostpackets = NULL
#        sendlostfraction = NULL
#        receivelostpackets = NULL
#        receivelostfraction = NULL
#        statisticsreporter = 0
#        proxyrole = 0
#        toproxydownstreamlostpackets = NULL
#        toproxydownstreamlostfraction = NULL
#        toproxyupstreamlostpackets = NULL
#        toproxyupstreamlostfraction = NULL
#        topeerdownstreamlostpackets = NULL
#        topeerdownstreamlostfraction = NULL
#        topeerupstreamlostpackets = NULL
#        topeerupstreamlostfraction = NULL
#        toproxydownstreamjittersamples = NULL
#        toproxydownstreamjitterminimum = NULL
#        toproxydownstreamjittermaximum = NULL
#        toproxydownstreamjittermean = NULL
#        toproxydownstreamjittervariance = NULL
#        toproxyupstreamjittersamples = NULL
#        toproxyupstreamjitterminimum = NULL
#        toproxyupstreamjittermaximum = NULL
#        toproxyupstreamjittermean = NULL
#        toproxyupstreamjittervariance = NULL
#        topeerdownstreamjittersamples = NULL
#        topeerdownstreamjitterminimum = NULL
#        topeerdownstreamjittermaximum = NULL
#        topeerdownstreamjittermean = NULL
#        topeerdownstreamjittervariance = NULL
#        topeerupstreamjittersamples = NULL
#        topeerupstreamjitterminimum = NULL
#        topeerupstreamjittermaximum = NULL
#        topeerupstreamjittermean = NULL
#        topeerupstreamjittervariance = NULL
#        toproxydownstreamdelaysamples= NULL
#        toproxydownstreamdelayminimum = NULL
#        toproxydownstreamdelaymaximum = NULL
#        toproxydownstreamdelaymean = NULL
#        toproxydownstreamdelayvariance = NULL
#        toproxyupstreamdelaysamples = NULL
#        toproxyupstreamdelayminimum = NULL
#        toproxyupstreamdelaymaximum = NULL
#        toproxyupstreamdelaymean = NULL
#        toproxyupstreamdelayvariance = NULL
#        topeerdownstreamdelaysamples = NULL
#        topeerdownstreamdelayminimum = NULL
#        topeerdownstreamdelaymaximum = NULL
#        topeerdownstreamdelaymean = NULL
#        topeerdownstreamdelayvariance = NULL
#        topeerupstreamdelaysamples = NULL
#        topeerupstreamdelayminimum = NULL
#        topeerupstreamdelaymaximum = NULL
#        topeerupstreamdelaymean = NULL
#        topeerupstreamdelayvariance = NULL
#        toproxydownstreamoctets = NULL
#        toproxyupstreamoctets = NULL
#        topeerdownstreamoctets = NULL
#        topeerupstreamoctets = NULL
#        toproxydownstreampackets = NULL
#        toproxyupstreampackets = NULL
#        topeerdownstreampackets = NULL
#        topeerupstreampackets = NULL
#        rfactorscaleindex = 4
#        toproxydownstreamrfactor = NULL
#        toproxyupstreamrfactor = NULL
#        topeerdownstreamrfactor = NULL
#        topeerupstreamrfactor = NULL
#        mosscaleindex = 4
#        toproxydownstreammos = NULL
#        toproxyupstreammos = NULL
#        topeerdownstreammos = NULL
#        topeerupstreammos = NULL
#        custominfo1 = NULL
#        custominfo2 = NULL
#        custominfo3 = NULL
#        custominfo4 = NULL

callednumber = %{Acme-Primary-Routing-Number}           # Original called number
# callednumber = %{Acme-Egress-Final-Routing-Number}      # Transaltaed called number
assertedid = %{Acme-P-Asserted-ID}
sourcedevice = %{Acme-Ingress-Remote-Addr}
destination = %{Acme-Egress-Remote-Addr}
timeformat = 2
starttime = %{h323-setup-time}
connecttime = %{h323-connect-time}
endtime = %{h323-disconnect-time}
postdialdelayunit = 1
postdialdelay = %{Acme-Post-Dial-Delay}
releasesource = %{Acme-Disconnect-Initiator}
releasecause = %{Acme-SIP-Status} # SIP
# releasecause = %{Acme-Disconnect-Cause} # ISDN
destinationprotocol = %{Acme-Session-Protocol-Type}
inboundsessionid = %{Acme-Session-Ingress-CallId}
outboundsessionid = %{Acme-Session-Egress-CallId}
forwardcodec = %{Acme-FlowType_FS1_F}
reversecodec = %{Acme-FlowType_FS1_R}
proxyrole = 2
toproxydownstreamlostpackets = %{Acme-Calling-RTP-Packets-Lost_FS1}
toproxyupstreamlostpackets = %{Acme-Called-RTP-Packets-Lost_FS1}
topeerdownstreamlostpackets = %{Acme-Called-RTCP-Packets-Lost_FS1}
topeerupstreamlostpackets = %{Acme-Calling-RTCP-Packets-Lost_FS1}
toproxydownstreamjittermaximum = %{Acme-Calling-RTP-MaxJitter_FS1}
toproxydownstreamjittermean = %{Acme-Calling-RTP-Avg-Jitter_FS1}
toproxyupstreamjittermaximum = %{Acme-Called-RTP-MaxJitter_FS1}
toproxyupstreamjittermean = %{Acme-Called-RTP-Avg-Jitter_FS1}
topeerdownstreamjittermaximum = %{Acme-Called-RTCP-MaxJitter_FS1}
topeerdownstreamjittermean = %{Acme-Called-RTCP-Avg-Jitter_FS1}
topeerupstreamjittermaximum = %{Acme-Calling-RTCP-MaxJitter_FS1}
topeerupstreamjittermean = %{Acme-Calling-RTCP-Avg-Jitter_FS1}
topeerdownstreamdelaymaximum = %{Acme-Called-RTCP-MaxLatency_FS1}
topeerdownstreamdelaymean = %{Acme-Called-RTCP-Avg-Latency_FS1}
topeerupstreamdelaymaximum = %{Acme-Calling-RTCP-MaxLatency_FS1}
topeerupstreamdelaymean = %{Acme-Calling-RTCP-Avg-Latency_FS1}
toproxydownstreamoctets = %{Acme-Calling-Octets_FS1}
toproxyupstreamoctets = %{Acme-Called-Octets_FS1}
toproxydownstreampackets = %{Acme-Calling-Packets_FS1}
toproxyupstreampackets = %{Acme-Called-Packets_FS1}
rfactorscaleindex = 2
toproxydownstreamrfactor = %{Acme-Calling-R-Factor}
toproxyupstreamrfactor = %{Acme-Called-R-Factor}
mosscaleindex = 2
toproxydownstreammos = %{Acme-Calling-MOS}
toproxyupstreammos = %{Acme-Called-MOS}
custominfo1 = %{Acme-Custom-VSA-200}
    }
}

